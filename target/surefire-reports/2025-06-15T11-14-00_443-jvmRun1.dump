# Created at 2025-06-15T11:14:01.221
java.util.ServiceConfigurationError: org.testng.ITestNGListener: Provider com.zebrunner.agent.testng.listener.TestRunListener could not be instantiated
	at java.base/java.util.ServiceLoader.fail(ServiceLoader.java:552)
	at java.base/java.util.ServiceLoader$ProviderImpl.newInstance(ServiceLoader.java:712)
	at java.base/java.util.ServiceLoader$ProviderImpl.get(ServiceLoader.java:672)
	at java.base/java.util.ServiceLoader$2.next(ServiceLoader.java:1256)
	at org.testng.TestNG.addServiceLoaderListeners(TestNG.java:1032)
	at org.testng.TestNG.initializeConfiguration(TestNG.java:966)
	at org.testng.TestNG.initializeEverything(TestNG.java:1063)
	at org.testng.TestNG.run(TestNG.java:1074)
	at org.apache.maven.surefire.testng.TestNGExecutor.run(TestNGExecutor.java:308)
	at org.apache.maven.surefire.testng.TestNGXmlTestSuite.execute(TestNGXmlTestSuite.java:71)
	at org.apache.maven.surefire.testng.TestNGProvider.invoke(TestNGProvider.java:113)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: java.lang.ExceptionInInitializerError
	at com.zebrunner.agent.core.registrar.ReportingRegistrar.<init>(ReportingRegistrar.java:48)
	at com.zebrunner.agent.core.registrar.ReportingRegistrar.getInstance(ReportingRegistrar.java:43)
	at com.zebrunner.agent.core.registrar.TestRunRegistrar.getInstance(TestRunRegistrar.java:25)
	at com.zebrunner.agent.testng.adapter.TestNGAdapter.<init>(TestNGAdapter.java:53)
	at com.zebrunner.agent.testng.listener.TestRunListener.<init>(TestRunListener.java:28)
	at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:62)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:483)
	at java.base/java.util.ServiceLoader$ProviderImpl.newInstance(ServiceLoader.java:707)
	... 13 more
Caused by: java.lang.RuntimeException: Could not instantiate Zebrunner API client
	at com.zebrunner.agent.core.registrar.client.ApiClientRegistry.<clinit>(ApiClientRegistry.java:28)
	... 22 more
Caused by: java.lang.reflect.InvocationTargetException
	at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:74)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:483)
	at com.zebrunner.agent.core.registrar.client.ApiClientRegistry.<clinit>(ApiClientRegistry.java:21)
	... 22 more
Caused by: kong.unirest.UnirestException: kong.unirest.UnirestException: URI does not specify a valid host name: localhost:80/api/iam/v1/auth/refresh
	at kong.unirest.DefaultInterceptor.onFail(DefaultInterceptor.java:43)
	at kong.unirest.CompoundInterceptor.lambda$onFail$2(CompoundInterceptor.java:54)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Collections$2.tryAdvance(Collections.java:5075)
	at java.base/java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:147)
	at java.base/java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:588)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:574)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.FindOps$FindOp.evaluateSequential(FindOps.java:150)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.findFirst(ReferencePipeline.java:687)
	at kong.unirest.CompoundInterceptor.onFail(CompoundInterceptor.java:56)
	at kong.unirest.apache.ApacheClient.request(ApacheClient.java:138)
	at kong.unirest.Client.request(Client.java:57)
	at kong.unirest.BaseRequest.request(BaseRequest.java:365)
	at kong.unirest.BaseRequest.asObject(BaseRequest.java:266)
	at com.zebrunner.agent.core.registrar.client.UnirestZebrunnerApiClient.authenticateClient(UnirestZebrunnerApiClient.java:83)
	at com.zebrunner.agent.core.registrar.client.UnirestZebrunnerApiClient.<init>(UnirestZebrunnerApiClient.java:57)
	at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:62)
	... 25 more
Caused by: kong.unirest.UnirestException: URI does not specify a valid host name: localhost:80/api/iam/v1/auth/refresh
	at kong.unirest.apache.BaseApacheClient.determineTarget(BaseApacheClient.java:90)
	at kong.unirest.apache.ApacheClient.request(ApacheClient.java:128)
	... 31 more


